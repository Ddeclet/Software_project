<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Editar Horas - {{ prof.nombre }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <style>
    /* Estilos (omitidos por brevedad, pero asegúrate de que los estilos anteriores de action-icon-small sigan ahí) */
    .schedule-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    .schedule-header h2 { margin: 0; }
    .hours-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 30px;
        background-color: #fff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        overflow: hidden;
    }
    .hours-table th, .hours-table td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }
    .hours-table th {
        background-color: #f4f4f4;
        font-weight: bold;
        color: #333;
    }
    .hours-table tr:hover { background-color: #f9f9f9; }
    .action-cell {
        display: flex;
        gap: 10px;
        align-items: center;
    }
    .home-icon, .action-icon {
        width: 28px; 
        height: 28px; 
        object-fit: contain;
    }
    .action-icon-small {
        width: 22px; 
        height: 22px;
        cursor: pointer;
        transition: opacity 0.2s;
    }
    .action-icon-small:hover { opacity: 0.7; }
    .nav-home-link { margin-right: 15px; }
  </style>
</head>
<body>
  <header> 
    <div class="logo">
      <img src="{{ url_for('static', filename='images/logoAC.png') }}" alt="Logo AcademicConnect" class="logo-ac">
      <h1 class="brand-title">AcademicConnect</h1>
    </div>
    <nav>
      <a href="{{ url_for('subadmin_home') }}" title="Volver al Inicio" class="nav-home-link">
          <img src="{{ url_for('static', filename='images/home.png') }}" alt="Inicio" class="home-icon">
      </a>
      <div class="profile-container">
        <img src="{{ url_for('static', filename='images/perfil.png') }}" alt="Perfil" class="profile-img">
      </div>
      <a href="{{ url_for('logout') }}">
        <img src="{{ url_for('static', filename='images/logout.png') }}" alt="Logout" class="logout-icon">
      </a>
    </nav>
  </header>

  <main class="superadmin-main">
    <div class="schedule-header">
        <h2>Horas de Oficina de {{ prof.nombre }}</h2>
        <a href="{{ url_for('agregar_hora_oficina', prof_id=prof_id) }}" title="Agregar Hora de Oficina">
            <img src="{{ url_for('static', filename='images/agregar.png') }}" alt="Agregar" class="action-icon">
        </a>
    </div>

    <table class="hours-table">
        <thead>
            <tr>
                <th>Día</th>
                <th>Inicio</th>
                <th>Fin</th>
                <th>Término</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for hora in horas %}
            <tr>
                <td>{{ hora.dia }}</td>
                <td>{{ hora.inicio }}</td>
                <td>{{ hora.fin }}</td>
                <td>{{ hora.term }}</td>
                <td class="action-cell">
                    <a href="{{ url_for('editar_hora', prof_id=prof_id, hora_id=loop.index0) }}" title="Editar esta hora">
                        <img src="{{ url_for('static', filename='images/editar.png') }}" alt="Editar" class="action-icon-small">
                    </a>
                    
                    <form method="POST" action="{{ url_for('eliminar_hora', prof_id=prof_id, hora_id=loop.index0) }}" 
                          onsubmit="return confirm('¿Estás seguro de que quieres eliminar esta hora?');"
                          style="display:inline; margin: 0;">
                        <button type="submit" style="background:none; border:none; padding:0; cursor:pointer;" title="Eliminar esta hora">
                            <img src="{{ url_for('static', filename='images/eliminar.png') }}" alt="Eliminar" class="action-icon-small">
                        </button>
                    </form>
                </td>
            </tr>
            {% endfor %}
            {% if not horas %}
            <tr>
                <td colspan="5" style="text-align: center; color: #777;">No hay horas de oficina registradas.</td>
            </tr>
            {% endif %}
        </tbody>
    </table>

    <a href="{{ url_for('modificar_cuenta') }}" class="form-actions" style="display: block; text-align: center; color: #007bff; margin-top: 20px;">Volver al listado de cuentas</a>
  </main>
  <div class="upraviso">
    <div class="upr-wordmark">UPR<br><span>ARECIBO</span></div>
  </div>
  <footer class="superadmin-footer">
    Copyright - All rights reserved
  </footer>
</body>
</html>